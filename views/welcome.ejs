<html>
<head>

<script src="../../viz.js"></script>

</head>

<body>
  <body style="background-color:#000000">
    <h1 style="color:white;"> You are visualising <%=transArr.length%> EVM execution traces with GraphViz!</h1>

<!-- <div>
<div id = "welcome" style="height:100%; float:left; width:30%; background-color:#ffffff "> EthCon Viewer <br>
  by: Aodhgan Gleeson <br>
  supervised by: David Birch </div>
  <div id = "mynetwork1"></div>
  <div id = "mynetwork2"></div>
</div> -->


<div class="container" style="width: 100%; height:100%;">
    <div class="sidebar" style="width: 500px; height:100%; float: left; background-color:#d1d1d1">
      <a style="font-size:7em" > EthCon Viewer </a> <br>
          <a style="font-size:7em"> by Aodhgan Gleeson</a>  <br>
                  <a style="font-size:7em"> supervised by: Dr. David Birch </a>  <br>

    </div>
    <div class="content" style="margin-left: 502px;">
      <div id = "mynetwork1"></div>
      <div id = "mynetwork2"></div>
    </div>
</div>




<script>
//this is working
console.log("script loaded yurt!")

<% graph_formats.forEach(function(mem,i){%>
    console.log("index is "+<%=i%>);
    var g = <%- JSON.stringify(mem)%>
    var trans = <%- JSON.stringify(transArr)%>
    console.log("trans arr is "+trans)
    // document.body.innerHTML += "<h1 style=\"color:white\";>"+trans[<%-i%>]+"</h1>"
    console.log("g is " + g)
    var gcut = g.slice(1,(g.length-3));
    console.log("gcut is " + gcut)
    //comment the below line in for graphviz
    var div = document.getElementById("mynetwork1")
    div.innerHTML+=Viz(gcut,{totalMemory:67108864});


    // document.body.innerHTML += Viz(gcut,{totalMemory:67108864}); //returns in svg format! will do multigraph generation

<%});%>

</script>





</body>






</html>
