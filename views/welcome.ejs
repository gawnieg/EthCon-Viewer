<html>
<head>

<script src="../../viz.js"></script>
<style>

hr {
    display: block;
    height: 1px;
    border: 0;
    border-top: 1px solid #ffffff;
    margin: 1em 0;
    padding: 0;
}
</style>


</head>

<body>
  <body style="background-color:#000000">
  <h1 style="color:white;"> You are visualising <%=transArr.length%> EVM execution traces with GraphViz!</h1>
  <div class="container" style="width: 100%; height:100%;">
    <div class="sidebar" style="width: 1000px; height:100%; float: left; background-color:#d1d1d1">
      <br>  <br><br>  <br>
      <img src="newlogo.JPG" style="display: block; margin-left: auto; margin-right: auto; height:600px; width:450px"/> <br>  <br>
      <a style="font-size:6em; font-family:'Courier New'; text-align:center; vertical-align:middle" > EthCon Viewer </a> <br>  <br>
      <hr/>
      <a style="font-size:6em; font-family:'Courier New'; text-align:center; vertical-align:middle" > Visualisation of Ethereum Smart Contract Execution </a> <br>  <br>
      <hr/>
      <a style="font-size:6em; font-family:'Courier New'"> by: Aodhgan Gleeson</a>  <br>  <br>
      <hr/>
      <a style="font-size:6em; font-family:'Courier New'"> supervised by: Dr. David Birch </a>  <br> <br> <br> <br>
      <hr/>
      <a style="font-size:6em; font-family:'Courier New'"> Node: An Executed Opcode </a>  <br> <br>  <br> <br>
      <hr/>
      <a style="font-size:6em; font-family:'Courier New'"> Edge: Between an Upstream Node and any Downstream Node that consumed the operand produced by that Opcode  </a>  <br> <br>
    </div>
    <div class="content" style="margin-left: 1002px;">
      <div id = "mynetwork1"></div>
      <div id = "mynetwork2"></div>
    </div>
</div>
<script>
//this is working
console.log("script loaded yurt!")

<% graph_formats.forEach(function(mem,i){%>
    console.log("index is "+<%=i%>);
    var g = <%- JSON.stringify(mem)%>
    var trans = <%- JSON.stringify(transArr)%>
    console.log("trans arr is "+trans)
    // document.body.innerHTML += "<h1 style=\"color:white\";>"+trans[<%-i%>]+"</h1>"
    console.log("g is " + g)
    var gcut = g.slice(1,(g.length-3));
    console.log("gcut is " + gcut)
    //comment the below line in for graphviz
    var div = document.getElementById("mynetwork1")
    div.innerHTML+=Viz(gcut,{totalMemory:67108864});
<%});%>
</script>
</body>
</html>
